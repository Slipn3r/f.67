(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"06b7":function(t,e,s){},1032:function(t,e,s){"use strict";var a=s("4563"),n=s.n(a);n.a},"1f24":function(t,e,s){},"25f7":function(t,e,s){},2755:function(t,e,s){"use strict";var a=s("c812"),n=s.n(a);n.a},2901:function(t,e,s){},2912:function(t,e,s){"use strict";var a=s("2901"),n=s.n(a);n.a},3674:function(t,e,s){},"3a70":function(t,e,s){},"3b2f":function(t,e,s){},"3e05":function(t,e,s){"use strict";var a=s("a751"),n=s.n(a);n.a},4563:function(t,e,s){},4758:function(t,e,s){},"52a5":function(t,e,s){"use strict";var a=s("6a36"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],o=(s("5c0b"),s("2877")),r={},c=Object(o["a"])(r,n,i,!1,null,null,null),l=c.exports,u=(s("45fc"),s("8c4f")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("Navbar",{attrs:{enableSearch:"true"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),s("div",{attrs:{id:"posts"}},t._l(t.filteredList,(function(e){return s("div",{key:e.id,staticClass:"post-card"},[s("div",{staticClass:"cover-image",style:{backgroundImage:e.bg}}),s("div",{staticClass:"post-info"},[s("a",{attrs:{href:"/post/"+e.link}},[s("h3",[t._v(t._s(e.title?e.title:"No title! How is that possible?"))])]),s("span",[t._v(t._s(e.author?e.author:"Unknown author")+", "+t._s(new Date(6e4*e.timestamp).toLocaleString().slice(0,-3)))]),s("i",{staticClass:"fa fa-fw fa-eye"}),t._v(t._s(e.views>1e3?Math.round(e.views/1e3)+"k":e.views?e.views:0)+" "),s("i",{staticClass:"fa fa-fw fa-comments"}),t._v(t._s(e.comments?e.comments:0)+" ")])])})),0),s("Footer")],1)},m=[],f=(s("4de4"),s("4160"),s("caad"),s("2532"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"navbar"}},[s("ul",[s("li",[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"fa fa-fw fa-home"}),t._v("Home")])],1),t.isAuthorized?s("li",[s("router-link",{attrs:{to:"/admin"}},[s("i",{staticClass:"fa fa-fw fa-dashboard"}),t._v("Dashboard")])],1):t._e(),s("li",["true"==t.enableSearch?s("div",[s("i",{staticClass:"fa fa-search"}),s("input",{attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})]):t._e()])])])}),p=[],h={props:{value:String,enableSearch:String},data:function(){return{}},methods:{checkAuth:function(){this.isAuthorized=!1,localStorage&&null!=localStorage.getItem("jwt")&&(this.isAuthorized=!0)}},created:function(){this.checkAuth()}},v=h,b=(s("8289"),Object(o["a"])(v,f,p,!1,null,"2c1d5d80",null)),g=b.exports,_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"footer"}},[s("span",[t._v("F.67 | Â© 2020")])])}],k={data:function(){return{}}},y=k,C=(s("2755"),Object(o["a"])(y,_,w,!1,null,"f1830690",null)),S=C.exports,$={components:{Navbar:g,Footer:S},data:function(){return{posts:[],searchQuery:""}},computed:{filteredList:function(){var t=this;return this.posts.filter((function(e){return e.title.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},methods:{checkAuth:function(){null==localStorage.getItem("jwt")?this.isAuthorized=!1:this.isAuthorized=!0},getPosts:function(){var t=this;this.$http.get("http://"+this.$domain+":3000/v1/getposts").then((function(e){t.posts=[],t.posts=e.data.rows,t.posts.reverse(),t.posts.forEach((function(t){t.bg="url("+t.cover_image+")"}))}))}},created:function(){this.getPosts()}},A=$,x=(s("52a5"),Object(o["a"])(A,d,m,!1,null,"32da3bf5",null)),j=x.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login-form"}},[s("form",[s("h1",[t._v("Login")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"E-mail",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",[s("button",{attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v(" Login ")])])])])},E=[],N={data:function(){return{email:"",password:""}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),this.password.length>0&&this.$http.post("http://"+this.$domain+":3000/login",{email:this.email,password:this.password}).then((function(t){var s=t.data.user.is_admin;localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("jwt",t.data.token),null!=localStorage.getItem("jwt")&&(e.$emit("loggedIn"),null!=e.$route.params.nextUrl?e.$router.push(e.$route.params.nextUrl):1==s?e.$router.push("admin"):e.$router.push("dashboard"))}))}},created:function(){var t=this;this.$http.get("http://"+this.$domain+":3000/v1/getusers").then((function(e){0==e.data.rows.length&&t.$router.push("register")}))}},P=N,D=(s("dbe2"),Object(o["a"])(P,O,E,!1,null,"71751078",null)),I=D.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"signup-form"}},[s("form",[s("h1",[t._v("Register")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",type:"text",placeholder:"Name",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",placeholder:"E-Mail",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],attrs:{id:"password-confirm",type:"password",placeholder:"Confirm password",required:""},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}})]),s("label",{attrs:{for:"password-confirm"}},[t._v("Admin")]),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.is_admin,expression:"is_admin"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.is_admin=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("Yes")]),s("option",{attrs:{value:"null"}},[t._v("No")])])]),s("div",[s("button",{attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v(" Register ")])])])])},L=[],M=(s("b0c0"),{props:["nextUrl"],data:function(){return{name:"",email:"",password:"",password_confirmation:"",is_admin:null}},methods:{handleSubmit:function(t){var e=this;if(t.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");var s="http://"+this.$domain+":3000/register";1==this.is_admin&&(s="http://"+this.$domain+":3000/register-admin"),this.$http.post(s,{name:this.name,email:this.email,password:this.password,is_admin:this.is_admin}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("jwt",t.data.token),null!=localStorage.getItem("jwt")&&(e.$emit("loggedIn"),e.$router.push("admin"))})).catch((function(t){console.error(t)}))}}}),U=M,R=(s("3e05"),Object(o["a"])(U,q,L,!1,null,"5539554f",null)),F=R.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[t._v("Logging out...")])},H=[],B={methods:{logout:function(){localStorage.removeItem("user"),localStorage.removeItem("jwt"),this.$emit("loggedOut"),this.$router.push("/")}},created:function(){this.logout()}},W=B,z=Object(o["a"])(W,T,H,!1,null,null,null),Q=z.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v("Welcome to regular users page")]),s("h2",[t._v(t._s(t.msg))]),s("router-link",{attrs:{to:"/"}},[t._v("Homepage")])],1)},V=[],Y={data:function(){return{msg:"Feature in development"}}},G=Y,X=(s("2912"),Object(o["a"])(G,J,V,!1,null,"ed583f24",null)),Z=X.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"container"}},[s("div",{attrs:{id:"sideMenu"}},[s("h1",[s("router-link",{attrs:{to:"/"}},[t._v("f.67")])],1),s("ul",{staticClass:"menu"},t._l(t.views,(function(e){return s("li",{key:e.name,class:["menu-button",{active:t.currentView.name===e.name}],on:{click:function(s){t.currentView=e}}},[s("i",{staticClass:"fa fa-fw",class:e.icon}),t._v(" "+t._s(e.name)+" ")])})),0),s("ul",{staticClass:"menu"},[s("li",{on:{click:function(e){t.statusActive=!t.statusActive}}},[s("i",{staticClass:"fa fa-fw fa-server"}),t._v("Status "),s("span",{staticClass:"colorIcon",class:t.status.all})]),s("li",{staticClass:"status",class:{active:t.statusActive}},[s("p",[t._v(t._s(t.$domain)+": "),s("span",{class:t.status.domain},[t._v(t._s(t.status.domain))])]),s("p",[t._v("DB: "),s("span",{class:t.status.backend},[t._v(t._s(t.status.backend))])]),s("button",{on:{click:function(e){t.statusActive=!1}}},[s("i",{staticClass:"fa fa-fw fa-times"})])])])]),s("div",{attrs:{id:"content"}},[s("div",{attrs:{id:"titleBar"}},[s("h2",[t._v("Dashboard / "+t._s(t.currentView.name.toLowerCase()))]),s("span",{staticClass:"controls activeControl"},[s("router-link",{attrs:{to:"/logout"}},[t._v("Log out")])],1),s("span",{staticClass:"controls"},[t._v(t._s(t.username))])]),s(t.currentView.component,{tag:"component",staticClass:"view",on:{"change-view":function(e){t.currentView=t.views[e]}}})],1)])},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recent"},[s("h2",[t._v("Recent posts")]),t._l(t.recentPosts,(function(e){return s("div",{key:e.id,staticClass:"post-card"},[s("div",{staticClass:"cover-image",style:{backgroundImage:e.bg}}),s("div",{staticClass:"post-info"},[s("a",{attrs:{href:"/post/"+e.link}},[s("h3",[t._v(t._s(e.title?e.title:"No title! How is that possible?"))])]),s("span",[t._v(t._s(e.author?e.author:"Unknown author")+", "+t._s(new Date(6e4*e.timestamp).toLocaleString().slice(0,-3)))]),s("i",{staticClass:"fa fa-fw fa-eye"}),t._v(t._s(e.views>1e3?Math.round(e.views/1e3)+"k":e.views?e.views:0)+" "),s("i",{staticClass:"fa fa-fw fa-comments"}),t._v(t._s(e.comments?e.comments:0)+" ")])])})),s("button",{on:{click:function(e){return t.$emit("change-view",2)}}},[t._v("All posts")]),s("h2",[t._v("Recent comments")]),t._m(0)],2)},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"borderAnimation post-card"},[s("p",[t._v("Feature in development")])])}],at=(s("fb6a"),{data:function(){return{posts:[]}},computed:{recentPosts:function(){return this.posts.slice(this.posts.length-3>=0?this.posts.length-3:0,this.posts.length)}},methods:{getPosts:function(){var t=this;this.$http.get("http://"+this.$domain+":3000/v1/getposts").then((function(e){t.posts=e.data.rows,t.posts.forEach((function(t){t.bg="url("+t.cover_image+")"}))}))}},mounted:function(){this.getPosts()}}),nt=at,it=(s("ec3e"),Object(o["a"])(nt,et,st,!1,null,null,null)),ot=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-post"},[s("h2",[t._v("New post")]),s("editor",{attrs:{showEditable:!1}})],1)},ct=[],lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[t.showEdit?s("div",{staticClass:"toggleEdit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editable,expression:"editable"}],attrs:{type:"checkbox",id:"edit"},domProps:{checked:Array.isArray(t.editable)?t._i(t.editable,null)>-1:t.editable},on:{change:function(e){var s=t.editable,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.editable=s.concat([i])):o>-1&&(t.editable=s.slice(0,o).concat(s.slice(o+1)))}else t.editable=n}}}),t._m(0)]):t._e(),t.post.cover_image?s("img",{staticClass:"banner",attrs:{src:t.post.cover_image}}):t._e(),s("label",{class:{disabled:!t.editable},attrs:{for:"cover-image"}},[t._v("Cover image (url)")]),s("div",{class:{disabled:!t.editable}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coverImage,expression:"coverImage"}],attrs:{id:"cover-image",type:"text",required:""},domProps:{value:t.coverImage},on:{input:function(e){e.target.composing||(t.coverImage=e.target.value)}}})]),s("editor-floating-menu",{class:{disabled:!t.editable},attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,n=e.isActive,i=e.menu;return[s("div",{staticClass:"editor__floating-menu",class:{"is-active":i.isActive},style:"top: "+i.top+"px"},[s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[t._v(" H1 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[t._v(" H2 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[t._v(" H3 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.bullet_list()},on:{click:a.bullet_list}},[s("i",{staticClass:"fa fa-fw fa-list-ul"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.ordered_list()},on:{click:a.ordered_list}},[s("i",{staticClass:"fa fa-fw fa-list-ol"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.blockquote()},on:{click:a.blockquote}},[s("i",{staticClass:"fa fa-fw fa-quote-right"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.code_block()},on:{click:a.code_block}},[t._v(" {...} ")]),s("button",{staticClass:"menubar__button",on:{click:function(t){return a.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[s("i",{staticClass:"fa fa-fw fa-table"})])])]}}])}),s("editor-menu-bar",{class:{disabled:!t.editable},attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,n=e.isActive;return[s("div",{staticClass:"menubar"},[s("button",{staticClass:"menubar__button",class:{"is-active":n.bold()},on:{click:a.bold}},[s("i",{staticClass:"fa fa-fw fa-bold"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.italic()},on:{click:a.italic}},[s("i",{staticClass:"fa fa-fw fa-italic"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.strike()},on:{click:a.strike}},[s("i",{staticClass:"fa fa-fw fa-strikethrough"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.underline()},on:{click:a.underline}},[s("i",{staticClass:"fa fa-fw fa-underline"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.code()},on:{click:a.code}},[s("i",{staticClass:"fa fa-fw fa-code"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.link()},on:{click:function(e){return t.paste("link")}}},[s("i",{staticClass:"fa fa-fw fa-chain"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[t._v(" H1 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[t._v(" H2 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[t._v(" H3 ")]),s("button",{staticClass:"menubar__button",class:{"is-active":n.bullet_list()},on:{click:a.bullet_list}},[s("i",{staticClass:"fa fa-fw fa-list-ul"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.ordered_list()},on:{click:a.ordered_list}},[s("i",{staticClass:"fa fa-fw fa-list-ol"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.blockquote()},on:{click:a.blockquote}},[s("i",{staticClass:"fa fa-fw fa-quote-right"})]),s("button",{staticClass:"menubar__button",class:{"is-active":n.code_block()},on:{click:a.code_block}},[t._v(" {...} ")]),s("button",{staticClass:"menubar__button",on:{click:function(t){return a.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[s("i",{staticClass:"fa fa-fw fa-table"})]),n.table()?s("span",{staticClass:"table-controls"},[s("button",{staticClass:"menubar__button",on:{click:a.deleteTable}},[s("i",{staticClass:"fa fa-fw fa-trash"})]),s("button",{staticClass:"menubar__button",on:{click:a.addColumnAfter}},[t._v(" Add column ")]),s("button",{staticClass:"menubar__button",on:{click:a.deleteColumn}},[t._v(" Delete column ")]),s("button",{staticClass:"menubar__button",on:{click:a.addRowAfter}},[t._v(" Add row ")]),s("button",{staticClass:"menubar__button",on:{click:a.deleteRow}},[t._v(" Delete row ")]),s("button",{staticClass:"menubar__button",on:{click:a.toggleCellMerge}},[t._v(" Combine cells ")])]):t._e(),s("button",{staticClass:"menubar__button",on:{click:a.horizontal_rule}},[s("i",{staticClass:"fa fa-fw fa-minus"})]),s("button",{staticClass:"menubar__button",on:{click:a.undo}},[s("i",{staticClass:"fa fa-fw fa-rotate-left"})]),s("button",{staticClass:"menubar__button",on:{click:a.redo}},[s("i",{staticClass:"fa fa-fw fa-rotate-right"})]),s("button",{staticClass:"menubar__button",attrs:{id:"menubar__save"},on:{click:t.handleSubmit}},[s("i",{staticClass:"fa fa-fw fa-floppy-o"}),t._v(" Save ")])])]}}])}),s("editor-content",{attrs:{editor:t.editor}}),s("div",{class:{disabled:!t.editable}},[s("button",{attrs:{type:"submit",id:"saveButton"},on:{click:t.handleSubmit}},[s("i",{staticClass:"fa fa-fw fa-floppy-o"}),t._v("Save ")])])],1)},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"edit"}},[s("i",{staticClass:"fa fa-fw fa-pencil"}),t._v(" Edit")])}],dt=(s("d3b7"),s("ac1f"),s("25f0"),s("5319"),s("9911"),s("96cf"),s("1da1")),mt=s("bc3a"),ft=s.n(mt),pt=s("4dd1"),ht=s.n(pt),vt=s("ee8c"),bt=s.n(vt),gt=s("f54f"),_t=s.n(gt),wt=s("f0f8"),kt=s.n(wt),yt=s("cd42"),Ct=s("f23d"),St=s("d4ec"),$t=s("bee2"),At=s("262e"),xt=s("2caf"),jt=function(t){Object(At["a"])(s,t);var e=Object(xt["a"])(s);function s(){return Object(St["a"])(this,s),e.apply(this,arguments)}return Object($t["a"])(s,[{key:"schema",get:function(){return{content:"title block+"}}}]),s}(yt["a"]),Ot=function(t){Object(At["a"])(s,t);var e=Object(xt["a"])(s);function s(){return Object(St["a"])(this,s),e.apply(this,arguments)}return Object($t["a"])(s,[{key:"name",get:function(){return"title"}},{key:"schema",get:function(){return{content:"inline*",parseDOM:[{tag:"h1"}],toDOM:function(){return["h1",0]}}}}]),s}(yt["h"]),Et=(s("a630"),s("c975"),s("3ca3"),s("b85c")),Nt=s("3835"),Pt=s("a9de"),Dt=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,It=function(t){Object(At["a"])(s,t);var e=Object(xt["a"])(s);function s(t,a){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(St["a"])(this,s),n=e.call(this,t,a),n.uploadFunc=i,n}return Object($t["a"])(s,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(s,a){var n=s.selection,i=n.$cursor?n.$cursor.pos:n.$to.pos,o=e.create(t),r=s.tr.insert(i,o);a(r)}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(Pt["g"])(Dt,e,(function(t){var e=Object(Nt["a"])(t,4),s=e[1],a=e[2],n=e[3];return{src:a,alt:s,title:n}}))]}},{key:"name",get:function(){return"image"}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){return["img",t.attrs]}}}},{key:"plugins",get:function(){var t=this.uploadFunc;return[new yt["i"]({props:{handlePaste:function(e,s){var a,n=(s.clipboardData||s.originalEvent.clipboardData).items,i=Object(Et["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;s.preventDefault(),0===o.type.indexOf("image")&&function(){var s=e.state.schema,a=o.getAsFile(),n=new FileReader;t?t(a).then((function(t){var a=s.nodes.image.create({src:t}),n=e.state.tr.replaceSelectionWith(a);e.dispatch(n)})):(n.onload=function(t){var a=s.nodes.image.create({src:t.target.result}),n=e.state.tr.replaceSelectionWith(a);e.dispatch(n)},n.readAsDataURL(a))}()}}catch(r){i.e(r)}finally{i.f()}return!1},handleDOMEvents:{drop:function(e,s){var a=s.dataTransfer&&s.dataTransfer.files&&s.dataTransfer.files.length;if(a){var n=Array.from(s.dataTransfer.files).filter((function(t){return/image/i.test(t.type)}));if(0!==n.length){s.preventDefault();var i=e.state.schema,o=e.posAtCoords({left:s.clientX,top:s.clientY});n.forEach(function(){var s=Object(dt["a"])(regeneratorRuntime.mark((function s(a){var n,r,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=new FileReader,!t){s.next=12;break}return s.t0=i.nodes.image,s.next=5,t(a);case 5:s.t1=s.sent,s.t2={src:s.t1},r=s.t0.create.call(s.t0,s.t2),c=e.state.tr.insert(o.pos,r),e.dispatch(c),s.next=14;break;case 12:n.onload=function(t){var s=i.nodes.image.create({src:t.target.result}),a=e.state.tr.insert(o.pos,s);e.dispatch(a)},n.readAsDataURL(a);case 14:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())}}}}}})]}}]),s}(yt["h"]);function qt(t){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(dt["a"])(regeneratorRuntime.mark((function t(e){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new FormData,s.append("file",e),a={"Content-Type":"multipart/form-data"},t.next=5,ft.a.post("http://"+this.$domain+":3000/upload",s,{headers:a});case 5:return n=t.sent,t.abrupt("return",n.data.src);case 7:case"end":return t.stop()}}),t,this)}))),Lt.apply(this,arguments)}var Mt={components:{EditorContent:yt["c"],EditorMenuBar:yt["e"],EditorFloatingMenu:yt["d"]},props:{showEdit:Boolean},data:function(){var t=this;return{editor:new yt["b"]({editable:!1,extensions:[new jt,new Ot,new Ct["o"]({showOnlyCurrent:!1,emptyNodeText:function(t){return"title"===t.type.name?"Give me a name":"Write something"}}),new Ct["a"],new Ct["c"],new Ct["e"],new Ct["g"],new Ct["h"],new Ct["j"],new Ct["m"],new Ct["n"],new Ct["l"],new Ct["b"],new Ct["d"],new Ct["k"],new Ct["q"],new Ct["v"],new Ct["i"],new It(null,null,qt),new Ct["r"]({resizable:!0}),new Ct["t"],new Ct["s"],new Ct["u"],new Ct["p"]({disableRegex:!1}),new Ct["f"]({languages:{javascript:ht.a,css:bt.a,nginx:_t.a,bash:kt.a}})],content:"",onUpdate:function(e){var s=e.getJSON,a=e.getHTML;t.json=s(),t.html=a()}}),editable:!1,id:null,json:"",html:"",coverImage:"",post:[]}},methods:{paste:function(t){switch(t){case"link":var e=prompt("URL (leave empty to remove existing link):","");if(null!=e){var s=this.editor.state.selection.from;this.editor.state.selection.empty&&(this.editor.view.dispatch(this.editor.state.tr.insertText(e)),this.editor.setSelection(s,s+e.length)),this.editor.commands.link({href:e})}break;case"image":break}},handleSubmit:function(t){t.preventDefault(),this.json?(this.editable=!1,this.json.content[0].content[0].text?this.link?this.updatePost():this.saveNewPost():alert("Please give your post some title")):alert("No changes to save")},getPostByLink:function(){var t=this;this.$route.params.link?(this.link=encodeURI(this.$route.params.link),this.$http.post("http://"+this.$domain+":3000/v1/getpostbylink",{link:this.link}).then((function(e){e.data.post?(t.post=e.data.post,t.html=e.data.post.html,t.editor.setContent(e.data.post.html),t.coverImage=e.data.post.cover_image):t.editor.content="empty post"}))):(this.editable=!0,this.editor.setOptions({editable:this.editable}))},saveNewPost:function(){var t=this;this.post.title=this.json.content[0].content[0].text,this.post.timestamp=Math.round(Date.now()/6e4);var e=new Date(6e4*this.post.timestamp);this.post.author=JSON.parse(localStorage.getItem("user")).name,this.post.link=encodeURI(e.getFullYear().toString()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"-"+this.post.title.replace(/[\s\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+/g,"-")+"-"+e.getMinutes()),this.$http.post("http://"+this.$domain+":3000/v1/getpostbylink",{link:this.post.link}).then((function(e){if(e.data.post)alert("Wait a minute or change post title");else{t.post.cover_image=t.coverImage,t.post.html=t.html,t.post.json=JSON.stringify(t.json);var s="http://"+t.$domain+":3000/v1/Editor/save";t.$http.post(s,{title:t.post.title,timestamp:t.post.timestamp,author:t.post.author,link:t.post.link,cover_image:t.post.cover_image,html:t.post.html,json:t.post.json}).then(t.$router.push("/post/"+t.post.link))}}))},updatePost:function(){this.post.title=this.json.content[0].content[0].text;var t=new Date(6e4*this.post.timestamp);this.post.link=encodeURI(t.getFullYear().toString()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"-"+this.post.title.replace(/[\s\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+/g,"-")+"-"+t.getMinutes()),this.post.last_changed=Math.round(Date.now()/6e4),this.post.cover_image=this.coverImage,this.post.html=this.html,this.post.json=JSON.stringify(this.json);var e="http://"+this.$domain+":3000/v1/Editor/update";this.$http.post(e,{title:this.post.title,last_changed:this.post.last_changed,cover_image:this.post.cover_image,html:this.post.html,json:this.post.json,link:this.post.link,id:this.post.id}).then(this.link==this.post.link?this.getPostByLink():this.$router.push("/post/"+this.post.link))}},watch:{editable:function(){this.editor.setOptions({editable:this.editable}),this.editable?document.querySelector("html").style.background="repeating-linear-gradient(45deg, #e9ecef, #e9ecef 10px, #f8f9fa 10px, #f8f9fa 20px)":document.querySelector("html").style.background="#fff"}},mounted:function(){document.querySelector(".editor__content")||document.querySelector("div.menubar")&&document.querySelector("div.menubar").nextElementSibling.classList.add("editor__content"),this.getPostByLink()},beforeDestroy:function(){this.editor.destroy()}},Ut=Mt,Rt=(s("b16a"),s("9dcb"),s("677c"),s("ef02"),Object(o["a"])(Ut,lt,ut,!1,null,null,null)),Ft=Rt.exports,Tt={components:{Editor:Ft},data:function(){return{}}},Ht=Tt,Bt=(s("d0b8"),Object(o["a"])(Ht,rt,ct,!1,null,null,null)),Wt=Bt.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"allposts"},[s("div",{staticClass:"controls"},[s("div",{staticClass:"timestamp"},[s("button",{staticClass:"control-active",attrs:{type:"button"},on:{click:function(e){return t.sortAsc("timestamp")}}},[s("i",{staticClass:"fa fa-sort-amount-asc"})]),s("i",{staticClass:"fa fa-calendar"}),s("button",{attrs:{type:"button"},on:{click:function(e){return t.sortDesc("timestamp")}}},[s("i",{staticClass:"fa fa-sort-amount-desc"})])]),s("div",{staticClass:"views"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.sortAsc("views")}}},[s("i",{staticClass:"fa fa-sort-amount-asc"})]),s("i",{staticClass:"fa fa-eye"}),s("button",{attrs:{type:"button"},on:{click:function(e){return t.sortDesc("views")}}},[s("i",{staticClass:"fa fa-sort-amount-desc"})])]),s("div",{staticClass:"comments"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.sortAsc("comments")}}},[s("i",{staticClass:"fa fa-sort-amount-asc"})]),s("i",{staticClass:"fa fa-comments"}),s("button",{attrs:{type:"button"},on:{click:function(e){return t.sortDesc("comments")}}},[s("i",{staticClass:"fa fa-sort-amount-desc"})])]),s("div",{staticClass:"search"},[s("i",{staticClass:"fa fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),s("div",{staticClass:"width"},[s("button",{class:"col-3"==t.cardWidth?"control-active":"",attrs:{type:"button"},on:{click:function(e){t.cardWidth="col-3"}}},[s("i",{staticClass:"fa fa-th"})]),s("button",{class:"col-1"==t.cardWidth?"control-active":"",attrs:{type:"button"},on:{click:function(e){t.cardWidth="col-1"}}},[s("i",{staticClass:"fa fa-th-list"})])])]),t._l(t.filteredList,(function(e){return s("div",{key:e.id,staticClass:"post-card",class:t.cardWidth},[s("button",{on:{click:function(s){return t.deletePost(e.id)}}},[s("i",{staticClass:"fa fa-trash"})]),s("a",{attrs:{href:"/post/"+e.link}},[s("h3",[t._v(t._s(e.title?e.title:"No title! How is that possible?"))])]),s("div",{staticClass:"post-info"},[s("span",[t._v(t._s(e.author?e.author:"Unknown author")+", "+t._s(new Date(6e4*e.timestamp).toLocaleString().slice(0,-3)))]),s("i",{staticClass:"fa fa-eye"}),t._v(t._s(e.views>1e3?e.views/1e3+"k":e.views?e.views:0)+" "),s("i",{staticClass:"fa fa-comments"}),t._v(t._s(e.comments?e.comments:0)+" ")])])}))],2)},Qt=[],Jt={data:function(){return{posts:[],sortCond:"",searchQuery:"",cardWidth:"col-3"}},computed:{filteredList:function(){var t=this;return this.posts.filter((function(e){return e.title.toLowerCase().includes(t.searchQuery.toLowerCase())}))}},methods:{getPosts:function(){var t=this;this.$http.get("http://"+this.$domain+":3000/v1/getposts").then((function(e){t.posts=[],t.posts=e.data.rows,t.sortDesc("timestamp")}))},deletePost:function(t){confirm("Are you sure you want to delete this post?")&&this.$http.post("http://"+this.$domain+":3000/v1/deletepost",{id:t}).then(this.getPosts())},sortAsc:function(t){this.sortCond=t,this.posts.sort(this.sortAlphaNumAsc),document.querySelectorAll(".controls > div:not(.width) > button").forEach((function(t){return t.classList.remove("control-active")})),document.querySelector("."+t+" > button:nth-child(1)").classList.add("control-active")},sortDesc:function(t){this.sortCond=t,this.posts.sort(this.sortAlphaNumAsc),this.posts.reverse(),document.querySelectorAll(".controls > div:not(.width) > button").forEach((function(t){return t.classList.remove("control-active")})),document.querySelector("."+t+" > button:nth-child(3)").classList.add("control-active")},sortAlphaNumAsc:function(t,e){var s=this.sortCond,a=/[^a-zA-Z]/g,n=/[^0-9]/g;null==t[s]?t[s]=0:t[s],null==e[s]?e[s]=0:e[s];var i=t[s].toString().replace(a,""),o=e[s].toString().replace(a,"");if(i===o){var r=parseInt(t[s].toString().replace(n,""),10),c=parseInt(e[s].toString().replace(n,""),10);return r===c?0:r>c?1:-1}return i>o?1:-1},reverse:function(){this.posts.reverse()}},mounted:function(){this.getPosts()}},Vt=Jt,Yt=(s("667f"),Object(o["a"])(Vt,zt,Qt,!1,null,"13c84490",null)),Gt=Yt.exports,Xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v("Welcome to comments page")]),s("div",{staticClass:"borderAnimation post-card"},[s("p",[t._v("Feature in development")])])])}],Kt={data:function(){return{}}},te=Kt,ee=Object(o["a"])(te,Xt,Zt,!1,null,"7b065c1c",null),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userlist"},[s("h2",[t._v("Users")]),s("users-grid",{key:t.gridId,attrs:{users:t.users,columns:t.columns},on:{actionsClick:function(e){return t.actionsHandler(e)}}}),s("button",{on:{click:function(e){return t.toggleForm()}}},[t._v("Add user"),s("i",{staticClass:"fa fa-fw fa-chevron-down"})]),s("form",{attrs:{id:"add-user"}},[s("label",{attrs:{for:"name"}},[t._v("Name")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",type:"text",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("label",{attrs:{for:"email"}},[t._v("E-Mail Address")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("label",{attrs:{for:"password-confirm"}},[t._v("Confirm Password")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],attrs:{id:"password-confirm",type:"password",required:""},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}})]),s("label",{attrs:{for:"password-confirm"}},[t._v("Is this an administrator account?")]),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.is_admin,expression:"is_admin"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.is_admin=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"1"}},[t._v("Yes")]),s("option",{attrs:{value:"null"}},[t._v("No")])])]),s("div",[s("button",{attrs:{type:"submit"},on:{click:t.handleSubmit}},[t._v(" Register ")])])])],1)},ne=[],ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",t._l(t.columns,(function(e,a){return s("th",{key:a},[t._v(" "+t._s("is_admin"==e?"account":e)+" ")])})),0)]),s("tbody",t._l(t.users,(function(e){return s("tr",{key:e.id},t._l(t.columns,(function(a,n){return s("td",{key:n},[t._v(" "+t._s(null==e[a]?"":e[a])+" "),e[a]?t._e():s("div",{staticClass:"actionsContainer"},[s("button",{on:{click:function(s){return t.$emit("actionsClick",[e.id-1,"is_admin"])}}},["admin"==e.is_admin?s("span",[t._v("to user")]):s("span",[t._v("to admin")])]),s("button",{on:{click:function(s){return t.$emit("actionsClick",[e.id-1,"is_disabled"])}}},["enabled"==e.is_disabled?s("i",{staticClass:"fa fa-fw fa-lock"}):s("i",{staticClass:"fa fa-fw fa-unlock"})]),s("button",{on:{click:function(s){return t.$emit("actionsClick",[e.id-1,"toDelete"])}}},[s("i",{staticClass:"fa fa-fw fa-trash"})])])])})),0)})),0)])},oe=[],re={props:{users:Array,columns:Array},data:function(){return{}}},ce=re,le=Object(o["a"])(ce,ie,oe,!1,null,null,null),ue=le.exports,de={components:{UsersGrid:ue},data:function(){return{columns:["id","name","email","is_admin","is_disabled",""],users:[],gridId:+new Date,actions:[],name:"",email:"",password:"",password_confirmation:"",is_admin:null}},methods:{getUsers:function(){var t=this;this.$http.get("http://"+this.$domain+":3000/v1/getusers").then((function(e){t.users=e.data.rows,t.users.forEach((function(e){return t.actions.push({id:e.id,is_admin:e.is_admin,is_disabled:e.is_disabled,toDelete:null})})),t.users.forEach((function(t){return t.is_admin=t.is_admin?"admin":"user"})),t.users.forEach((function(t){return t.is_disabled=t.is_disabled?"disabled":"enabled"})),t.gridId=+new Date}))},toggleForm:function(){"block"==document.querySelector("#add-user").style.display?(document.querySelector("#add-user").style.display="none",document.querySelector(".userlist > button > i").classList.remove("fa-chevron-up"),document.querySelector(".userlist > button > i").classList.add("fa-chevron-down")):(document.querySelector("#add-user").style.display="block",document.querySelector(".userlist > button > i").classList.remove("fa-chevron-down"),document.querySelector(".userlist > button > i").classList.add("fa-chevron-up"))},handleSubmit:function(t){if(t.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");var e="http://"+this.$domain+":3000/register";1==this.is_admin&&(e="http://"+this.$domain+":3000/register-admin"),this.$http.post(e,{name:this.name,email:this.email,password:this.password,is_admin:this.is_admin}).then(this.getUsers()),this.name="",this.email="",this.password="",this.password_confirmation="",this.is_admin=null},actionsHandler:function(t){var e=t[0],s=t[1],a="do this";switch(s){case"is_admin":a="make "+this.users[e].name+(this.actions[e].is_admin?" a regular user?":" a mighty admin?");break;case"is_disabled":a="disable "+this.users[e].name+"'s account? Login will be disabled, posts authorship won't change";break;case"toDelete":a="delete "+this.users[e].name+'\'s account? THIS ACTION CANNOT BE UNDONE! The account will be purged completely, posts authorship will change to "Unknown author"';break}confirm("Are you sure you want to "+a)&&(null==this.actions[e][s]?this.actions[e][s]=1:this.actions[e][s]=null,"toDelete"!=s?this.$http.post("http://"+this.$domain+":3000/v1/update-user",{is_admin:this.actions[e].is_admin,is_disabled:this.actions[e].is_disabled,id:e+1}).then(this.getUsers()):this.$http.post("http://"+this.$domain+":3000/v1/delete-user",{id:e+1}).then(this.getUsers()))}},created:function(){this.getUsers()}},me=de,fe=(s("c8ce"),Object(o["a"])(me,ae,ne,!1,null,null,null)),pe=fe.exports,he=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v("Welcome to settings page")]),s("div",{staticClass:"borderAnimation post-card"},[s("p",[t._v("Feature in development")])])])}],be={data:function(){return{}}},ge=be,_e=Object(o["a"])(ge,he,ve,!1,null,"1a6d2160",null),we=_e.exports,ke=[{name:"Overview",icon:"fa-desktop",component:ot},{name:"New post",icon:"fa-pencil",component:Wt},{name:"All posts",icon:"fa-list",component:Gt},{name:"Comments",icon:"fa-comments",component:se},{name:"Users",icon:"fa-user",component:pe},{name:"Settings",icon:"fa-cog",component:we}],ye={data:function(){return{username:"user.name",views:ke,currentView:ke[0],statusActive:!1,status:{domain:"checking",backend:"checking",all:"checking"}}},methods:{checkStatus:function(){var t=this;this.$http.get("http://"+this.$domain+":8080").then((function(e){2==Math.floor(e.status/100)&&(t.status.domain="online","failed"!=t.status.all&&(t.status.all="online"))})).catch((function(e){e&&(t.status.domain=t.status.all="failed")})),document.querySelector("li.status > p:nth-child(1) > span").classList.add(this.status.domain),this.$http.get("http://"+this.$domain+":3000/v1/getusers").then((function(e){2==Math.floor(e.status/100)&&(t.status.backend="online","failed"!=t.status.all&&(t.status.all="online"))})).catch((function(e){e&&(t.status.backend=t.status.all="failed")})),document.querySelector("li.status > p:nth-child(2) > span").classList.add(this.status.backend)}},mounted:function(){!localStorage.getItem("user")||(this.username=JSON.parse(localStorage.getItem("user")).name),this.checkStatus()}},Ce=ye,Se=(s("7e03"),Object(o["a"])(Ce,K,tt,!1,null,"63f7a920",null)),$e=Se.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"post-container"}},[s("Navbar",{attrs:{enableSearch:"false"}}),s("div",{attrs:{id:"post"}},[s("editor",{attrs:{showEdit:t.isAuthorized}})],1),s("div",{attrs:{id:"remark42"}}),s("Footer")],1)},xe=[],je={components:{Navbar:g,Footer:S,Editor:Ft},data:function(){return{isAuthorized:!1}},methods:{checkAuth:function(){null==localStorage.getItem("jwt")?this.isAuthorized=!1:this.isAuthorized=!0}},created:function(){this.checkAuth()}},Oe=je,Ee=(s("1032"),Object(o["a"])(Oe,Ae,xe,!1,null,"44949fad",null)),Ne=Ee.exports;a["a"].use(u["a"]);var Pe=[{path:"/",name:"Homepage",component:j},{path:"/login",name:"login",component:I,meta:{guest:!0}},{path:"/register",name:"register",component:F,meta:{guest:!0}},{path:"/logout",name:"logout",component:Q,meta:{requiresAuth:!0}},{path:"/dashboard",name:"userboard",component:Z,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:$e,meta:{requiresAuth:!0,is_admin:!0}},{path:"/editor",name:"editor",component:Ft,meta:{requiresAuth:!0}},{path:"/post",redirect:"/editor",name:"post",component:Ne,meta:{requiresAuth:!0}},{path:"/post/:link",name:"post/link",component:Ne}],De=new u["a"]({mode:"history",base:"/",routes:Pe});De.beforeEach((function(t,e,s){if(t.matched.some((function(t){return t.meta.requiresAuth})))if(null==localStorage.getItem("jwt"))s({path:"/login",params:{nextUrl:t.fullPath}});else{var a=JSON.parse(localStorage.getItem("user"));t.matched.some((function(t){return t.meta.is_admin}))?1==a.is_admin?s():s({name:"userboard"}):s()}else t.matched.some((function(t){return t.meta.guest}))?null==localStorage.getItem("jwt")?s():s({name:"userboard"}):s()}));var Ie=De;a["a"].prototype.$http=ft.a,a["a"].prototype.$domain=window.location.hostname,a["a"].config.productionTip=!1,new a["a"]({router:Ie,render:function(t){return t(l)}}).$mount("#app");var qe={host:"http://127.0.0.1:8082",site_id:"YOUR_SITE_ID",components:["embed"],url:"",max_shown_comments:10,theme:"light",page_title:"",locale:"en"};(function(t){for(var e=0;e<t.length;e++){var s=document,a=s.createElement("script");a.src=qe.host+"/web/"+t[e]+".js",a.defer=!0,(s.head||s.body).appendChild(a)}})(qe.components||["embed"])},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"667f":function(t,e,s){"use strict";var a=s("7d54"),n=s.n(a);n.a},"677c":function(t,e,s){"use strict";var a=s("1f24"),n=s.n(a);n.a},"6a36":function(t,e,s){},"7d54":function(t,e,s){},"7e03":function(t,e,s){"use strict";var a=s("3b2f"),n=s.n(a);n.a},"7f17":function(t,e,s){},8289:function(t,e,s){"use strict";var a=s("ae74"),n=s.n(a);n.a},"9c0c":function(t,e,s){},"9dcb":function(t,e,s){"use strict";var a=s("3a70"),n=s.n(a);n.a},a751:function(t,e,s){},ae74:function(t,e,s){},b16a:function(t,e,s){"use strict";var a=s("25f7"),n=s.n(a);n.a},b6fa:function(t,e,s){},c812:function(t,e,s){},c8ce:function(t,e,s){"use strict";var a=s("b6fa"),n=s.n(a);n.a},d0b8:function(t,e,s){"use strict";var a=s("06b7"),n=s.n(a);n.a},dbe2:function(t,e,s){"use strict";var a=s("7f17"),n=s.n(a);n.a},ec3e:function(t,e,s){"use strict";var a=s("4758"),n=s.n(a);n.a},ef02:function(t,e,s){"use strict";var a=s("3674"),n=s.n(a);n.a}});
//# sourceMappingURL=app.1780baad.js.map